name: Make Release

on:
  push:
    branches:
      - master
  pull_request:
    branches:
      - master

jobs:
  Linux:
    runs-on: ubuntu-16.04
    steps:
      - uses: actions/checkout@v2
        with:
          repository: sumneko/vscode-lua
          ref: v0.20.6
          submodules: recursive
      - uses: jfrog/setup-jfrog-cli@v1
      - run: jfrog --version

  macOS:
    runs-on: macos-10.15
    steps:
      - uses: actions/checkout@v2
        with:
          repository: sumneko/vscode-lua
          ref: v0.20.6
          submodules: recursive
      - uses: jfrog/setup-jfrog-cli@v1
      - run: jfrog --version

  Windows:
    runs-on: windows-2019
    steps:
      - uses: actions/checkout@v2
        with:
          repository: sumneko/vscode-lua
          ref: v0.20.6
          submodules: recursive
      - uses: jfrog/setup-jfrog-cli@v1
      - run: jfrog --version
